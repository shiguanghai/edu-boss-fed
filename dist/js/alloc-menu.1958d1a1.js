(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["alloc-menu"],{"057f":function(e,t,r){var n=r("fc6a"),o=r("241c").f,c={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(e){try{return o(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==c.call(e)?i(e):o(n(e))}},2257:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"e",(function(){return c})),r.d(t,"d",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"f",(function(){return u})),r.d(t,"a",(function(){return s})),r.d(t,"g",(function(){return f}));var n=r("b32d"),o=function(e){return Object(n["a"])({method:"POST",url:"/boss/menu/saveOrUpdate",data:e})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return Object(n["a"])({method:"GET",url:"/boss/menu/getEditMenuInfo",params:{id:e}})},a=function(){return Object(n["a"])({method:"GET",url:"/boss/menu/getAll"})},i=function(e){return Object(n["a"])({method:"DELETE",url:"/boss/menu/".concat(e)})},u=function(){return Object(n["a"])({method:"GET",url:"/boss/menu/getMenuNodeList"})},s=function(e){return Object(n["a"])({method:"POST",url:"/boss/menu/allocateRoleMenus",data:e})},f=function(e){return Object(n["a"])({method:"GET",url:"/boss/menu/getRoleMenus",params:{roleId:e}})}},2909:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){if(Array.isArray(e))return n(e)}r.d(t,"a",(function(){return u}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r("fb6a"),r("b0c0");function a(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){return o(e)||c(e)||a(e)||i()}},"4df4":function(e,t,r){"use strict";var n=r("0366"),o=r("7b0b"),c=r("9bdd"),a=r("e95a"),i=r("50c4"),u=r("8418"),s=r("35a1");e.exports=function(e){var t,r,f,d,l,b,h=o(e),p="function"==typeof this?this:Array,v=arguments.length,m=v>1?arguments[1]:void 0,y=void 0!==m,g=s(h),w=0;if(y&&(m=n(m,v>2?arguments[2]:void 0,2)),void 0==g||p==Array&&a(g))for(t=i(h.length),r=new p(t);t>w;w++)b=y?m(h[w],w):h[w],u(r,w,b);else for(d=g.call(h),l=d.next,r=new p;!(f=l.call(d)).done;w++)b=y?c(d,m,[f.value,w],!0):f.value,u(r,w,b);return r.length=w,r}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("1d80"),o=r("5899"),c="["+o+"]",a=RegExp("^"+c+c+"*"),i=RegExp(c+c+"*$"),u=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(a,"")),2&e&&(r=r.replace(i,"")),r}};e.exports={start:u(1),end:u(2),trim:u(3)}},"675f":function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return i}));var n=r("b32d"),o=function(e){return Object(n["a"])({method:"POST",url:"/boss/resource/getResourcePages",data:e})},c=function(){return Object(n["a"])({method:"GET",url:"/boss/resource/getAll"})},a=function(e){return Object(n["a"])({method:"POST",url:"/boss/resource/allocateRoleResources",data:e})},i=function(e){return Object(n["a"])({method:"GET",url:"/boss/resource/getRoleResources",params:{roleId:e}})}},7156:function(e,t,r){var n=r("861d"),o=r("d2bb");e.exports=function(e,t,r){var c,a;return o&&"function"==typeof(c=t.constructor)&&c!==r&&n(a=c.prototype)&&a!==r.prototype&&o(e,a),e}},"746f":function(e,t,r){var n=r("428f"),o=r("5135"),c=r("e538"),a=r("9bf2").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});o(t,e)||a(t,e,{value:c.f(e)})}},"7ca9":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"alloc-menu"},[r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("分配权限")])]),r("el-tree",{ref:"menu-tree",attrs:{"node-key":"id",data:e.menus,props:e.defaultProps,"default-checked-keys":e.checkedKeys,"show-checkbox":"","default-expand-all":""}}),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{on:{click:e.resetChecked}},[e._v("清空")]),r("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保存")])],1)],1)],1)},o=[],c=r("2909"),a=r("1da1"),i=(r("96cf"),r("a9e3"),r("159b"),r("99af"),r("2b0e")),u=r("2257"),s=i["default"].extend({name:"AllocMenu",props:{roleId:{type:[String,Number],required:!0}},data:function(){return{menus:[],defaultProps:{children:"subMenuList",label:"name"},checkedKeys:[]}},created:function(){this.loadMenus(),this.loadRoleMenus()},methods:{loadRoleMenus:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["g"])(e.roleId);case 2:r=t.sent,n=r.data,e.getCheckedKeys(n.data);case 5:case"end":return t.stop()}}),t)})))()},getCheckedKeys:function(e){var t=this;e.forEach((function(e){e.selected&&!e.subMenuList&&(t.checkedKeys=[].concat(Object(c["a"])(t.checkedKeys),[e.id])),e.subMenuList&&t.getCheckedKeys(e.subMenuList)}))},loadMenus:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["f"])();case 2:r=t.sent,n=r.data,e.menus=n.data;case 5:case"end":return t.stop()}}),t)})))()},onSave:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$refs["menu-tree"].getCheckedKeys(),t.next=3,Object(u["a"])({roleId:e.roleId,menuIdList:r});case 3:e.$message.success("操作成功"),e.$router.back();case 5:case"end":return t.stop()}}),t)})))()},resetChecked:function(){this.$refs["menu-tree"].setCheckedKeys([])}}}),f=s,d=r("2877"),l=Object(d["a"])(f,n,o,!1,null,"88a28454",null);t["default"]=l.exports},"7db0":function(e,t,r){"use strict";var n=r("23e7"),o=r("b727").find,c=r("44d2"),a="find",i=!0;a in[]&&Array(1)[a]((function(){i=!1})),n({target:"Array",proto:!0,forced:i},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),c(a)},8418:function(e,t,r){"use strict";var n=r("c04e"),o=r("9bf2"),c=r("5c6c");e.exports=function(e,t,r){var a=n(t);a in e?o.f(e,a,c(0,r)):e[a]=r}},9614:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"alloc-resource"},[r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("分配资源")])]),r("el-tree",{ref:"tree",attrs:{data:e.resources,"node-key":"id",props:e.defaultProps,"show-checkbox":"","default-checked-keys":e.defaultCheckedKeys,"default-expanded-keys":e.defaultCheckedKeys}}),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{on:{click:e.resetChecked}},[e._v("清空")]),r("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保存")])],1)],1)],1)},o=[],c=r("2909"),a=r("1da1"),i=(r("96cf"),r("a9e3"),r("d3b7"),r("3ca3"),r("ddb0"),r("159b"),r("7db0"),r("99af"),r("2b0e")),u=r("675f"),s=r("9d1c"),f=i["default"].extend({name:"AllocResource",props:{roleId:{type:[String,Number],required:!0}},data:function(){return{resources:[],defaultProps:{children:"children",label:"name"},defaultCheckedKeys:[]}},created:function(){this.loadResources(),this.loadRoleResources()},methods:{loadResources:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([Object(u["b"])(),Object(s["a"])()]);case 2:r=t.sent,n=r[0].data.data,o=r[1].data.data,n.forEach((function(e){var t=o.find((function(t){return t.id===e.categoryId}));t&&(t.children=t.children||[],t.children.push(e))})),o.forEach((function(e){e.id=Math.random()})),e.resources=o;case 8:case"end":return t.stop()}}),t)})))()},loadRoleResources:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["d"])(e.roleId);case 2:r=t.sent,n=r.data,e.getCheckedResources(n.data);case 5:case"end":return t.stop()}}),t)})))()},getCheckedResources:function(e){var t=this;e.forEach((function(e){e.resourceList&&e.resourceList.forEach((function(e){e.selected&&(t.defaultCheckedKeys=[].concat(Object(c["a"])(t.defaultCheckedKeys),[e.id]))}))}))},onSave:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$refs.tree.getCheckedNodes(),n=[],r.forEach((function(e){e.children||n.push(e.id)})),t.next=5,Object(u["a"])({roleId:e.roleId,resourceIdList:n});case 5:e.$message.success("保存成功"),e.$router.back();case 7:case"end":return t.stop()}}),t)})))()},resetChecked:function(){this.$refs.tree.setCheckedKeys([])}}}),d=f,l=r("2877"),b=Object(l["a"])(d,n,o,!1,null,"2ba70c75",null);t["default"]=b.exports},"99af":function(e,t,r){"use strict";var n=r("23e7"),o=r("d039"),c=r("e8b5"),a=r("861d"),i=r("7b0b"),u=r("50c4"),s=r("8418"),f=r("65f0"),d=r("1dde"),l=r("b622"),b=r("2d00"),h=l("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",m=b>=51||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),y=d("concat"),g=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:c(e)},w=!m||!y;n({target:"Array",proto:!0,forced:w},{concat:function(e){var t,r,n,o,c,a=i(this),d=f(a,0),l=0;for(t=-1,n=arguments.length;t<n;t++)if(c=-1===t?a:arguments[t],g(c)){if(o=u(c.length),l+o>p)throw TypeError(v);for(r=0;r<o;r++,l++)r in c&&s(d,l,c[r])}else{if(l>=p)throw TypeError(v);s(d,l++,c)}return d.length=l,d}})},"9bdd":function(e,t,r){var n=r("825a"),o=r("2a62");e.exports=function(e,t,r,c){try{return c?t(n(r)[0],r[1]):t(r)}catch(a){throw o(e),a}}},"9d1c":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("b32d"),o=function(){return Object(n["a"])({method:"GET",url:"/boss/resource/category/getAll"})}},a4d3:function(e,t,r){"use strict";var n=r("23e7"),o=r("da84"),c=r("d066"),a=r("c430"),i=r("83ab"),u=r("4930"),s=r("fdbf"),f=r("d039"),d=r("5135"),l=r("e8b5"),b=r("861d"),h=r("825a"),p=r("7b0b"),v=r("fc6a"),m=r("c04e"),y=r("5c6c"),g=r("7c73"),w=r("df75"),O=r("241c"),S=r("057f"),k=r("7418"),j=r("06cf"),E=r("9bf2"),x=r("d1e7"),I=r("9112"),A=r("6eeb"),R=r("5692"),N=r("f772"),C=r("d012"),T=r("90e3"),M=r("b622"),P=r("e538"),_=r("746f"),K=r("d44e"),$=r("69f3"),L=r("b727").forEach,G=N("hidden"),F="Symbol",J="prototype",U=M("toPrimitive"),V=$.set,q=$.getterFor(F),D=Object[J],X=o.Symbol,Y=c("JSON","stringify"),Q=j.f,W=E.f,z=S.f,B=x.f,H=R("symbols"),Z=R("op-symbols"),ee=R("string-to-symbol-registry"),te=R("symbol-to-string-registry"),re=R("wks"),ne=o.QObject,oe=!ne||!ne[J]||!ne[J].findChild,ce=i&&f((function(){return 7!=g(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=Q(D,t);n&&delete D[t],W(e,t,r),n&&e!==D&&W(D,t,n)}:W,ae=function(e,t){var r=H[e]=g(X[J]);return V(r,{type:F,tag:e,description:t}),i||(r.description=t),r},ie=s?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof X},ue=function(e,t,r){e===D&&ue(Z,t,r),h(e);var n=m(t,!0);return h(r),d(H,n)?(r.enumerable?(d(e,G)&&e[G][n]&&(e[G][n]=!1),r=g(r,{enumerable:y(0,!1)})):(d(e,G)||W(e,G,y(1,{})),e[G][n]=!0),ce(e,n,r)):W(e,n,r)},se=function(e,t){h(e);var r=v(t),n=w(r).concat(he(r));return L(n,(function(t){i&&!de.call(r,t)||ue(e,t,r[t])})),e},fe=function(e,t){return void 0===t?g(e):se(g(e),t)},de=function(e){var t=m(e,!0),r=B.call(this,t);return!(this===D&&d(H,t)&&!d(Z,t))&&(!(r||!d(this,t)||!d(H,t)||d(this,G)&&this[G][t])||r)},le=function(e,t){var r=v(e),n=m(t,!0);if(r!==D||!d(H,n)||d(Z,n)){var o=Q(r,n);return!o||!d(H,n)||d(r,G)&&r[G][n]||(o.enumerable=!0),o}},be=function(e){var t=z(v(e)),r=[];return L(t,(function(e){d(H,e)||d(C,e)||r.push(e)})),r},he=function(e){var t=e===D,r=z(t?Z:v(e)),n=[];return L(r,(function(e){!d(H,e)||t&&!d(D,e)||n.push(H[e])})),n};if(u||(X=function(){if(this instanceof X)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=T(e),r=function(e){this===D&&r.call(Z,e),d(this,G)&&d(this[G],t)&&(this[G][t]=!1),ce(this,t,y(1,e))};return i&&oe&&ce(D,t,{configurable:!0,set:r}),ae(t,e)},A(X[J],"toString",(function(){return q(this).tag})),A(X,"withoutSetter",(function(e){return ae(T(e),e)})),x.f=de,E.f=ue,j.f=le,O.f=S.f=be,k.f=he,P.f=function(e){return ae(M(e),e)},i&&(W(X[J],"description",{configurable:!0,get:function(){return q(this).description}}),a||A(D,"propertyIsEnumerable",de,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:X}),L(w(re),(function(e){_(e)})),n({target:F,stat:!0,forced:!u},{for:function(e){var t=String(e);if(d(ee,t))return ee[t];var r=X(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(d(te,e))return te[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!i},{create:fe,defineProperty:ue,defineProperties:se,getOwnPropertyDescriptor:le}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:be,getOwnPropertySymbols:he}),n({target:"Object",stat:!0,forced:f((function(){k.f(1)}))},{getOwnPropertySymbols:function(e){return k.f(p(e))}}),Y){var pe=!u||f((function(){var e=X();return"[null]"!=Y([e])||"{}"!=Y({a:e})||"{}"!=Y(Object(e))}));n({target:"JSON",stat:!0,forced:pe},{stringify:function(e,t,r){var n,o=[e],c=1;while(arguments.length>c)o.push(arguments[c++]);if(n=t,(b(t)||void 0!==e)&&!ie(e))return l(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ie(t))return t}),o[1]=t,Y.apply(null,o)}})}X[J][U]||I(X[J],U,X[J].valueOf),K(X,F),C[G]=!0},a630:function(e,t,r){var n=r("23e7"),o=r("4df4"),c=r("1c7e"),a=!c((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:a},{from:o})},a9e3:function(e,t,r){"use strict";var n=r("83ab"),o=r("da84"),c=r("94ca"),a=r("6eeb"),i=r("5135"),u=r("c6b6"),s=r("7156"),f=r("c04e"),d=r("d039"),l=r("7c73"),b=r("241c").f,h=r("06cf").f,p=r("9bf2").f,v=r("58a8").trim,m="Number",y=o[m],g=y.prototype,w=u(l(g))==m,O=function(e){var t,r,n,o,c,a,i,u,s=f(e,!1);if("string"==typeof s&&s.length>2)if(s=v(s),t=s.charCodeAt(0),43===t||45===t){if(r=s.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+s}for(c=s.slice(2),a=c.length,i=0;i<a;i++)if(u=c.charCodeAt(i),u<48||u>o)return NaN;return parseInt(c,n)}return+s};if(c(m,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var S,k=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof k&&(w?d((function(){g.valueOf.call(r)})):u(r)!=m)?s(new y(O(t)),r,k):O(t)},j=n?b(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),E=0;j.length>E;E++)i(y,S=j[E])&&!i(k,S)&&p(k,S,h(y,S));k.prototype=g,g.constructor=k,a(o,m,k)}},b0c0:function(e,t,r){var n=r("83ab"),o=r("9bf2").f,c=Function.prototype,a=c.toString,i=/^\s*function ([^ (]*)/,u="name";n&&!(u in c)&&o(c,u,{configurable:!0,get:function(){try{return a.call(this).match(i)[1]}catch(e){return""}}})},d28b:function(e,t,r){var n=r("746f");n("iterator")},e01a:function(e,t,r){"use strict";var n=r("23e7"),o=r("83ab"),c=r("da84"),a=r("5135"),i=r("861d"),u=r("9bf2").f,s=r("e893"),f=c.Symbol;if(o&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var d={},l=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof l?new f(e):void 0===e?f():f(e);return""===e&&(d[t]=!0),t};s(l,f);var b=l.prototype=f.prototype;b.constructor=l;var h=b.toString,p="Symbol(test)"==String(f("test")),v=/^Symbol\((.*)\)[^)]+$/;u(b,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=h.call(e);if(a(d,e))return"";var r=p?t.slice(7,-1):t.replace(v,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:l})}},e538:function(e,t,r){var n=r("b622");t.f=n},fb6a:function(e,t,r){"use strict";var n=r("23e7"),o=r("861d"),c=r("e8b5"),a=r("23cb"),i=r("50c4"),u=r("fc6a"),s=r("8418"),f=r("b622"),d=r("1dde"),l=d("slice"),b=f("species"),h=[].slice,p=Math.max;n({target:"Array",proto:!0,forced:!l},{slice:function(e,t){var r,n,f,d=u(this),l=i(d.length),v=a(e,l),m=a(void 0===t?l:t,l);if(c(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!c(r.prototype)?o(r)&&(r=r[b],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return h.call(d,v,m);for(n=new(void 0===r?Array:r)(p(m-v,0)),f=0;v<m;v++,f++)v in d&&s(n,f,d[v]);return n.length=f,n}})}}]);
//# sourceMappingURL=alloc-menu.1958d1a1.js.map